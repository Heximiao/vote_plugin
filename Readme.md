
-----

### vote_plugin (投票插件)

一个功能强大且易于使用的群聊投票插件，支持在 QQ 群中发起投票、成员通过表情进行表决，并自动统计和公布最终结果。
后续会逐步添加投票功能

### ✨ 功能特性

  * **快速发起投票**: 使用简单的命令即可发起投票，无需复杂设置。
  * **表情符号投票**: 成员只需在投票消息上添加 **按钮** 或 **❓** 表情即可参与投票。
  * **自动统计结果**: 投票时间结束后，插件会自动统计正反方票数，并公布最终结果。
  * **可配置化**: 您可以在配置文件中自定义默认投票时长和持续时间。
  * **投票禁言功能**: 插件仍然保留了投票禁言功能，通过投票决定是否禁言群成员。

### 📦 安装

1.  将插件文件夹 `vote_plugin` 放到 `plugins` 目录下。
2.  首次加载插件后，系统会自动生成 `vote_ban_config.toml` 配置文件，您可以在其中调整设置。
3.  需要在napcat新建一个http服务器，地址是127.0.0.1，端口为9998（默认9998，根据你自己的情况修改）

### ✍️ 使用方法

#### 1. 发起投票禁言

在群聊中发送以下命令来发起一个投票，用于禁言某个群成员：

  * `/投票禁言 @目标QQ号 [时长]`
      * **`@目标QQ号`**: 必须，指定要禁言的用户 QQ 号。
      * **`[时长]`**: 可选，禁言的分钟数，不填则默认为 1 分钟。

**示例:**

  * `/投票禁言 @12345678` (默认禁言 1 分钟)
  * `/投票禁言 @12345678 5` (禁言 5 分钟)

#### 2. 参与投票

当投票发起后，群成员可以通过在投票消息上添加以下表情来表示自己的意见：

  * **按钮**: 同意禁言
  * **❓**: 反对禁言

#### 3. 结果公布

投票时间（默认 60 秒）结束后，插件会自动统计 按钮 和 ❓ 的票数。

  * 如果 按钮 票数多于 ❓，则投票通过，目标用户将被禁言。
  * 如果 按钮 票数不大于 ❓，则投票不通过，目标用户不受影响。

#### 4. 获取帮助

  * `/vote help`
      * 发送此命令可以查看投票禁言功能的详细使用说明。

### ⚙️ 配置 (`vote_ban_config.toml`)

该文件位于插件目录内，您可以根据需要修改以下配置：

```toml
[plugin]
name = "vote_ban_plugin"
version = "1.1.2"
enabled = true
debug_mode = false # 设置为 true 以启用调试日志

[vote_ban]
default_minutes = 1 # 默认禁言时长（分钟）
vote_duration = 60 # 投票持续时间（秒）
```

-----